@use '../../../../styles/mixins';
@import '../../../../styles//styles.scss';

.imagesContainer {
  img {
    padding: 5px;
  }
  
  :hover {
    cursor: pointer;
  }

  .mainImage {
    // Ensure consistent height for main image
    height: 100%;
    z-index: 1; // Ensure main image is on top
    min-height: 300px; // Prevent layout shift during loading
    
    .image-with-skeleton {
      min-height: 300px; // Match container height
    }
  }

  .secondaryImages {
    // Ensure consistent height for secondary images
    height: 100%;
    z-index: 0; // Keep secondary images below main image
    min-height: 150px; // Prevent layout shift during loading
    
    .image-with-skeleton {
      min-height: 150px; // Match container height
    }
  }

  .row {
    // Ensure proper row height
    height: 100%;
  }

  .col {
    float: left;
    // Remove any height constraints that cause layout shifts
  }

  // Fix skeleton container layout
  .image-with-skeleton {
    position: relative;
    width: 100%;
    height: 100%;
    display: block;
    overflow: hidden; // Prevent skeleton overflow
    
    // Apply padding consistently to both skeleton and loaded images
    padding: 5px;
    
    // Ensure proper aspect ratio maintenance
    .image-skeleton {
      width: calc(100% - 10px); // Account for padding
      height: calc(100% - 10px); // Account for padding
      position: absolute;
      top: 5px;
      left: 5px;
      right: 5px;
      bottom: 5px;
      z-index: 1; // Skeleton above container but below image
    }
    
    .skeleton-image {
      width: 100%;
      height: 100%;
      object-fit: cover;
      padding: 0; // Remove padding from actual image to prevent double padding
      z-index: 2; // Image above skeleton
    }
  }
  
  // Mobile-specific fixes
  @include mixins.mobile {
    .mainImage {
      min-height: 200px; // Reduced height for mobile
      height: 200px; // Fixed height for mobile
      position: relative; // Ensure proper positioning
      
      .image-with-skeleton {
        min-height: 200px; // Match container height
        height: 200px; // Fixed height for mobile
        position: relative; // Ensure proper positioning
      }
    }
    
    .secondaryImages {
      min-height: 200px; // Match main image height for consistency
      height: 200px; // Fixed height for mobile - same as main
      position: relative; // Ensure proper positioning
      
      .image-with-skeleton {
        min-height: 200px; // Match container height
        height: 200px; // Fixed height for mobile
        position: relative; // Ensure proper positioning
      }
    }
    
    .image-with-skeleton {
      // Ensure proper spacing on mobile
      margin-bottom: 10px;
      position: relative; // Ensure proper positioning
      
      &:last-child {
        margin-bottom: 0;
      }
      
      .image-skeleton {
        // Ensure skeleton fills container on mobile
        width: calc(100% - 10px);
        height: calc(100% - 10px);
        top: 5px;
        left: 5px;
        position: absolute; // Ensure absolute positioning
      }
      
      .skeleton-image {
        position: relative; // Ensure proper image positioning
        width: 100%;
        height: 100%;
        object-fit: cover; // Ensure proper image fitting
      }
    }
    
    // Additional mobile layout stability
    .row {
      height: auto; // Allow natural height on mobile
      min-height: 200px; // Match image height
    }
    
    .col {
      position: relative; // Ensure proper column positioning
    }
  }
}

